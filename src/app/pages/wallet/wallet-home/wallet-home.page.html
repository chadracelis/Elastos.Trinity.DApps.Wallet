<ion-content *ngIf="walletManager.activeMasterWallet">
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content 
            class="refresh"
            pullingText="Update Wallet"
            pullingIcon="arrow-dropdown" 
            refreshingSpinner="bubbles"
            refreshingText="Updating Wallet..."
        >
        </ion-refresher-content>
    </ion-refresher>
    <ion-slides *ngIf="walletManager.getWalletsList().length > 1" [class.dark-slides]="theme.darkMode" #slider pager>
        <ion-slide *ngFor="let masterWallet of walletManager.getWalletsList()">
            <ion-row class="main-title-row">
                <ion-col size="12">
                    <h1>{{ 'wallet-overview' | translate }}</h1>
                    <p>{{ 'you-have-n-wallets' | translate: {walletsCount: walletManager.getActiveMasterWallet().getSubWallets().length} }}</p>
                </ion-col>
            </ion-row>
            <ion-row
                class="card-row"
                [ngStyle]="
                    {
                        'background-image': masterWallet.theme ?
                        'url(' + masterWallet.theme.background + ')' :
                        'url(/assets/cards/maincards/card-purple.svg)'
                    }"
            >
                <ion-row class="card-label-row">
                    <ion-row class="top-row">
                        <ion-col size="10" class="left-col">
                            <h1>{{ masterWallet.name }}</h1>
                        </ion-col>
                        <ion-col size="2" class="right-col" (click)="goToWalletSettings(masterWallet)">
                            <ion-img src="assets/icons/dots.svg"></ion-img>
                        </ion-col>
                    </ion-row>
                    <h2></h2>
                    <h3>{{ 'total-amount' | translate }}</h3>
                    <h4>{{ Util.getWholeBalance(masterWallet.getBalance()/SELA) }}<span class="dot" *ngIf="masterWallet.getBalance()/SELA !== 0">.</span>
                        <span class="decimals">{{ Util.getDecimalBalance(masterWallet.getBalance()/SELA) }}</span>
                        <span class="ela">  ELA</span>
                    </h4>
                </ion-row>
                <div
                    class="arrow-down"
                    [ngStyle]="{
                        'background-color': masterWallet.theme ?
                        masterWallet.theme.color : '#752fcf'
                    }"
                >
                </div>
            </ion-row>
            <ion-row class="list-title-row">
                <ion-col size="12">
                    <h1>{{ 'coin-list' | translate }}</h1>
                </ion-col>
            </ion-row>
            <ion-row class="item-row ripple ion-activatable" *ngFor="let subWallet of masterWallet.getSubWallets()" [routerLink]="['/coin', subWallet.id]">
                <ion-col size="2" class="left-col">
                    <ion-img [src]="uiService.getSubWalletIcon(subWallet)"></ion-img>
                </ion-col>
                <ion-col [size]="subWallet.balance/SELA === 0 ? 7.5 : 5" class="middle-col">
                    <h1>{{ uiService.getSubwalletTitle(subWallet) }}</h1>
                    <p>{{ uiService.getSubwalletSubtitle(subWallet) }}</p>
                    <span *ngIf="subWallet.progress === 100" class="synced">&#8226; {{ 'synchronized' | translate: {progress: subWallet.progress} }}</span>
                    <span *ngIf="subWallet.progress !== 100" class="syncing">&#8226; {{ 'sync-progress' | translate: {progress: subWallet.progress} }}</span>
                </ion-col>
                <ion-col [size]="subWallet.balance/SELA === 0 ? 2.5 : 5" class="right-col">
                    <h1>{{ uiService.getFixedBalance(subWallet.balance/SELA) }}</h1>
                    <p>
                        {{ currencyService.getCurrencyBalance(subWallet.balance/SELA) }} 
                        {{ currencyService.selectedCurrency.symbol }}
                    </p>
                </ion-col>
                <ion-ripple-effect></ion-ripple-effect>
            </ion-row>
        </ion-slide>
    </ion-slides>

    <ion-grid class="single-slide" [class.dark-slide]="theme.darkMode" *ngIf="walletManager.getWalletsList().length === 1">
        <ion-row class="main-title-row">
            <ion-col size="12">
                <h1>{{ 'wallet-overview' | translate }}</h1>
                <p>{{ 'you-have-n-wallets' | translate: {walletsCount: walletManager.getActiveMasterWallet().getSubWallets().length} }}</p>
            </ion-col>
        </ion-row>
        <ion-row
            class="card-row"
            [ngStyle]="
                {
                    'background-image': walletManager.getActiveMasterWallet().theme ?
                    'url(' + walletManager.getActiveMasterWallet().theme.background + ')' :
                    'url(/assets/cards/maincards/card-purple.svg)'
                }"
        >
            <ion-row class="card-label-row">
                <ion-row class="top-row">
                    <ion-col size="10" class="left-col">
                        <h1>{{ walletManager.getActiveMasterWallet().name }}</h1>
                    </ion-col>
                    <ion-col size="2" class="right-col" (click)="goToWalletSettings(walletManager.getActiveMasterWallet())">
                        <ion-img src="assets/icons/dots.svg"></ion-img>
                    </ion-col>
                </ion-row>
                <h2></h2>
                <h3>{{ 'total-amount' | translate }}</h3>
                <h4>{{ Util.getWholeBalance(walletManager.getActiveMasterWallet().getBalance()/SELA) }}<span class="dot" *ngIf="walletManager.activeMasterWallet.getBalance()/SELA !== 0">.</span>
                    <span class="decimals">{{ Util.getDecimalBalance(walletManager.getActiveMasterWallet().getBalance()/SELA) }}</span>
                    <span class="ela">  ELA</span>
                </h4>
            </ion-row>
            <div
                class="arrow-down"
                [ngStyle]="{
                    'background-color': walletManager.getActiveMasterWallet().theme ?
                    walletManager.getActiveMasterWallet().theme.color : '#752fcf'
                }"
            >
            </div>
        </ion-row>
        <ion-row class="list-title-row">
            <ion-col size="12">
                <h1>{{ 'coin-list' | translate }}</h1>
            </ion-col>
        </ion-row>
        <ion-row 
            class="item-row ripple ion-activatable" 
            *ngFor="let subWallet of walletManager.getActiveMasterWallet().getSubWallets()" 
            [routerLink]="['/coin', subWallet.id]"
        >
            <ion-col size="2" class="left-col">
                <ion-img [src]="uiService.getSubWalletIcon(subWallet)"></ion-img>
            </ion-col>
            <ion-col [size]="subWallet.balance/SELA === 0 ? 7.5 : 5" class="middle-col">
                <h1>{{ uiService.getSubwalletTitle(subWallet) }}</h1>
                <p>{{ uiService.getSubwalletSubtitle(subWallet) }}</p>
                <span *ngIf="subWallet.progress === 100" class="synced">&#8226; {{ 'synchronized' | translate: {progress: subWallet.progress} }}</span>
                <span *ngIf="subWallet.progress !== 100" class="syncing">&#8226; {{ 'sync-progress' | translate: {progress: subWallet.progress} }}</span>
            </ion-col>
            <ion-col [size]="subWallet.balance/SELA === 0 ? 2.5 : 5" class="right-col">
                <h1>{{ uiService.getFixedBalance(subWallet.balance/SELA) }}</h1>
                <p *ngIf="isStandardSubwallet(subWallet)">
                    {{ currencyService.getCurrencyBalance(subWallet.balance/SELA) }} 
                    {{ currencyService.selectedCurrency.symbol }}
                </p>
            </ion-col>
            <ion-ripple-effect></ion-ripple-effect>
        </ion-row>
    </ion-grid>
</ion-content>